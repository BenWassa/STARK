@tailwind base;
@tailwind components;
@tailwind utilities;

/* PWA optimizations for Google Pixel 8 (412x915 viewport, DPR 2.625) */
@media screen and (max-width: 430px) and (max-height: 950px) and (-webkit-device-pixel-ratio: 2.6) {
  /* Pixel 8 specific optimizations */
  html {
    font-size: 16px; /* Ensure consistent base font size */
  }

  /* Optimize touch targets for high-DPI */
  button, .btn, [role="button"] {
    min-height: 44px; /* 44px physical pixels for touch targets */
    min-width: 44px;
  }

  /* Improve text rendering on high-DPI displays */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

/* High-DPI display optimizations (covers Pixel 8 and similar devices) */
@media (-webkit-device-pixel-ratio: 2.5) {
  /* Ensure crisp borders and shadows */
  * {
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  /* Optimize images for high-DPI */
  img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* General PWA viewport optimizations */
@viewport {
  width: device-width;
  zoom: 1.0;
}

/* Safe area insets for devices with notches (future-proofing) */
@supports (padding: max(0px)) {
  .safe-area-top {
    padding-top: max(1rem, env(safe-area-inset-top));
  }

  .safe-area-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}